<!doctype html><html dir=ltr lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=5"><title>Backup Disaster Recovery Testing Procedure | Aurora
</title><link rel=icon href=/favicon.ico type=image/x-icon><link rel=preload href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css as=style crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.design-system.alpha.canada.ca/@cdssnc/gcds-utility@1.9.3/dist/gcds-utility.min.css><link rel=stylesheet href=https://cdn.design-system.alpha.canada.ca/@cdssnc/gcds-components@0.41.0/dist/gcds/gcds.css><script async type=module src=https://cdn.design-system.alpha.canada.ca/@cdssnc/gcds-components@0.41.0/dist/gcds/gcds.esm.js></script><link rel=stylesheet href=/scss/main.css><link rel=stylesheet href=/scss/custom.css><style>html{font-size:16px}body{font-size:var(--gcds-font-sizes-text);line-height:var(--gcds-line-heights-text);color:var(--gcds-color-grayscale-1000);font-family:var(--gcds-font-families-body),sans-serif;margin:0;animation:fade .05s forwards ease-in-out}</style></head><body style=margin:0><main><gcds-container centered size=md><gcds-text size=caption style="text-align: center;"><strong>Alpha</strong>&nbsp;&nbsp;This is an experimental service.</gcds-text>
</gcds-container><gcds-header lang=en lang-href signature-variant=colour skip-to-href=#><gcds-search lang=en slot=search action=/sr/srb.html placeholder=Aurora></gcds-search><gcds-top-nav slot=menu label="Top navigation" alignment=right><gcds-nav-link href=/ slot=home>GC Cloud One: Aurora
</gcds-nav-link><gcds-nav-group open-trigger=Platform menu-label=Platform><gcds-nav-link href=/proposal>Proposal
</gcds-nav-link><gcds-nav-link href=/vision>Vision
</gcds-nav-link><gcds-nav-link href=/architecture>Architecture
</gcds-nav-link></gcds-nav-group><gcds-nav-group open-trigger=Team menu-label=Team><gcds-nav-link href=/team/sop>Standard Operating Procedures
</gcds-nav-link></gcds-nav-group><gcds-nav-group open-trigger=Community menu-label=Community><gcds-nav-link href=/get-involved>Get involved
</gcds-nav-link><gcds-nav-link href=/rules-of-engagement>Rules of Engagement
</gcds-nav-link><gcds-nav-link href=/technical-advisory-group>Technical Advisory Group
</gcds-nav-link></gcds-nav-group><gcds-nav-link href=/contact slot>Contact us
</gcds-nav-link></gcds-top-nav><gcds-breadcrumbs slot=breadcrumb><gcds-breadcrumbs-item href=https://gccloudone.ca>GC Cloud One</gcds-breadcrumbs-item>
<gcds-breadcrumbs-item href=/>Aurora</gcds-breadcrumbs-item>
<gcds-breadcrumbs-item href=/team/>Team Guide</gcds-breadcrumbs-item>
<gcds-breadcrumbs-item href=/team/standard-operating-procedures/>Standard Operating Procedures</gcds-breadcrumbs-item>
</gcds-breadcrumbs></gcds-header><gcds-container size=xl main-container centered tag=main><gcds-grid tag=section columns=1fr columns-desktop="
        1fr 3fr
      " align-items=start class=hydrated><aside role=complementary><gcds-side-nav label="Team Guide"><gcds-nav-link href=/team/>Team Guide
</gcds-nav-link><gcds-nav-group open-trigger="Standard Operating Procedures" menu-label="Standard Operating Procedures" open><gcds-nav-link href=/team/standard-operating-procedures/>Standard Operating Procedures
</gcds-nav-link><gcds-nav-link href=/team/standard-operating-procedures/backup-disaster-recovery/ current=true>Backup Disaster Recovery Testing Procedure
</gcds-nav-link><gcds-nav-link href=/team/standard-operating-procedures/issue-naming/>Issue & PR Naming Conventions
</gcds-nav-link><gcds-nav-link href=/team/standard-operating-procedures/infrastructure-and-configuration-management/>Infrastructure and Configuration Management
</gcds-nav-link><gcds-nav-link href=/team/standard-operating-procedures/landing-zone/>Enterprise Landing Zone
</gcds-nav-link><gcds-nav-link href=/team/standard-operating-procedures/bootstrap-cluster/>Bootstrap Cluster</gcds-nav-link></gcds-nav-group></gcds-side-nav></aside><section class=mb-400><gcds-heading tag=h1>Backup Disaster Recovery Testing Procedure</gcds-heading>
<gcds-heading tag=h1 id=disaster-recovery-testing-procedure character-limit=false>Disaster Recovery Testing Procedure</gcds-heading>
<gcds-text character-limit=false>This document outlines the steps Aurora administrators must follow to perform disaster recovery testing, ensuring that Velero backups are being restored correctly.</gcds-text>
<gcds-heading tag=h2 id=context character-limit=false>Context</gcds-heading><p>Aurora clusters use
<gcds-link href=https://velero.io/docs/v1.16/>Velero</gcds-link> to back up and restore Kubernetes cluster resources and persistent volumes. This procedure is designed to verify the reliability of these backups.</p><gcds-heading tag=h2 id=setup character-limit=false>Setup</gcds-heading>
<gcds-text character-limit=false>Ensure that you have the Velero command line tool installed. Prior to testing, the cluster shall have a test namespace. This namespace shall include a busybox deployment and a persistent volume claim that the busybox deployment will use. The Aurora admin shall shell into the busybox container and write a file to the path that is being mounted. For example:</gcds-text><ol><li><gcds-text character-limit=false><code>kubectl exec -it &lt;pod-name> --container &lt;busybox-container-name> -n &lt;test-namespace> -- /bin/bash</code></gcds-text></li><li><gcds-text character-limit=false><code>echo “test” > &lt;mountPath>/testfile</code></gcds-text></li><li><gcds-text character-limit=false><code>cat &lt;mountPath>/testfile</code> (Ensure the output is “test”)</gcds-text></li></ol><gcds-heading tag=h2 id=procedure character-limit=false>Procedure</gcds-heading>
<gcds-text character-limit=false>This test shall be performed <strong>monthly</strong> for all Aurora clusters. First ensure that the test namespace exists and that the <code>testfile</code> described in the setup section exists. Then execute the following actions:</gcds-text><ol><li><gcds-text character-limit=false><code>velero backup create backuptest-yyyy-mm-dd --include-namespaces &lt;test-namespace> –-volume-snapshot-location &lt;volume-snapshot-location-name> --backup-storage-location &lt;backup-storage-location-name> -n velero-system</code></gcds-text></li><li><gcds-text character-limit=false><code>kubectl delete namespace -n &lt;test-namespace></code></gcds-text></li><li><gcds-text character-limit=false>Wait for backup to be completed. This can be checked by performing:</gcds-text><ul><li><code>velero backup describe backuptest-yyyy-mm-dd --details -n velero-system</code></li></ul></li><li><gcds-text character-limit=false><code>velero restore create restoretest-yyyy-mm-dd --from-backup backuptest-yyyy-mm-dd</code></gcds-text></li><li><gcds-text character-limit=false>Wait for the restore to be completed. This can be checked by performing</gcds-text><ul><li><code>velero restore describe restoretest-yyyy-mm-dd --details -n velero-system</code></li></ul></li><li><gcds-text character-limit=false><code>kubectl exec -it &lt;pod-name> --container busybox -n &lt;test-namespace> -- /bin/bash</code></gcds-text></li><li><gcds-text character-limit=false><code>cat /data/test</code></gcds-text><ul><li>The output should be &ldquo;test&rdquo;.</li></ul></li></ol><gcds-date-modified lang=en>2025-08-19</gcds-date-modified></section></gcds-grid></gcds-container></main><gcds-footer lang=en display=compact contextual-heading=Aurora contextual-links='{ "Contact us": "/contact","Report an issue": "https://github.com/gccloudone/aurora/issues/new/choose","About us": "/about" }'></gcds-footer></body></html>